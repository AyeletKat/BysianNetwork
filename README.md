
---

# Bayesian Network

## Ex1 מכיל:

### `Main`

* קריאת קובץ `input.txt`
* שליחת קובץ XML לפונקציה `readXML`
* קריאת השאילתות מתוך `input.txt` ושליחת כל שאילתה לאלגוריתם המתאים לפי הסוג שלה
* כתיבת הפלט לקובץ `output.txt`

---

## פונקציות חשובות:

### `jointProbability`

מחזירה תוצאה של שאילתת הסתברות משותפת.

### `readXML`

מעבדת את קובץ ה-XML ומחזירה מפה של שם משתנה אל האובייקט שלו. המפה מהווה את הרשת (`network`) שבה נעשה שימוש בכל שאר הפונקציות.

### `algo1`

מימוש של אלגוריתם הסקה ישירה:

* עובר על משתני ה-hidden
* יוצר את כל הקומבינציות האפשריות של הערכים שלהם יחד עם המשתנים הידועים
* שולח את הקומבינציות לפונקציה `findProb`
* סוכם את ההסתברויות האפשריות ומנרמל

### `algo2`

מימוש של אלגוריתם Variable Elimination עם סדר אלימינציה קבוע לפי סדר אלפביתי (ABC).

### `algo3`

מימוש של Variable Elimination עם סדר אלימינציה המבוסס על יוריסטיקת Min-Fill (פירוט בהמשך).

### `PreprocessQuery`

פונקציה שמקבלת שאילתת הסתברות מותנית וממירה אותה למבני נתונים נוחים לעבודה. משמשת באלגוריתמים 2 ו-3 כדי למנוע כפילות בקוד.

### `FoundInCPTException`

חריג (Exception) ידני שמיועד לטפל במקרה שבו התשובה לשאילתה כבר קיימת בתוך אחת מטבלאות ההסתברות (CPT). משמש את `PreprocessQuery`.

---

## קבצים ומחלקות:

### `Variable.java`

מחלקה המייצגת משתנה (קודקוד) ברשת הבייסיאנית.

---

### `CPT.java`

מחלקה ליצירת טבלאות הסתברויות מותנות (Conditional Probability Tables) של משתנים ברשת הבייסיאנית:

* מכילה את שם המשתנה שלה היא שייכת
* שומרת את טבלת ההסתברויות עבור כל קומבינציה של משתני האב והמשתנה עצמו

---

### `Factor.java`

מחלקה המייצגת טבלת פקטורים. משמשת באלגוריתם Variable Elimination.

#### פונקציות חשובות:

* **`Join`** – מיזוג של פקטורים לפי שורות תואמות במשתנים משותפים
* **`Eliminate`** – הסרת משתנה מהפקטור באמצעות מיזוג שורות לפי ערכים
* **`Normalize`** – נרמול טבלת הפקטור כך שסכום ההסתברויות יהיה 1
* **`findProbability`** – חיפוש הסתברות של צירוף משתנים מסוים בתוך CPT

---

## יוריסטיקת Min-Fill – הסבר

העיקרון של Min-Fill:

* האלגוריתם בוחר בכל שלב את המשתנה שבאלימינציה שלו יווצרו הכי מעט צלעות חדשות בגרף (המשתנים מחוברים לפי הופעתם בפקטורים המשותפים).
* בודקים עבור כל משתנה מוסתר (hidden) כמה צלעות חדשות יווצרו אם נבצע עליו אלימינציה.
* שומרים את המשתנה עם המספר הקטן ביותר של צלעות חדשות, ומבצעים עליו את האלימינציה.
* ממשיכים כך עד שאין משתנים מוסתרים נוספים.

**הערה**: זהו אותו תהליך כמו באלגוריתם השני (`algo2`), אך עם סדר בחירה שונה. השימוש ב-`Join` ו-`Eliminate` זהה.

---

## מדידת פעולות:

* **כמות פעולות כפל** נמדדת לפי הפעלת `Join`. כל שורה בתוצאה דורשת כפל אחד.
* **כמות פעולות חיבור** נמדדת לפי `Eliminate`:
  עבור כל שורה בתוצאה, יש לסכם את כל האפשרויות של המשתנה שנמחק – כלומר:
  *מספר פעולות חיבור = (מספר ערכים למשתנה) - 1*

---

אם אתה רוצה שאוסיף דוגמת קלט/פלט, הסבר באנגלית, או קובץ `Makefile`, תגיד ואעדכן בשמחה.
